{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useSelector}from'react-redux';import{Link}from'react-router-dom';import{PlusIcon,CurrencyDollarIcon,ClipboardDocumentListIcon,CheckCircleIcon,ClockIcon,EyeIcon,UserGroupIcon}from'@heroicons/react/24/outline';import api from'../../services/api';import LoadingSpinner from'../../components/ui/LoadingSpinner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EmployerDashboard=()=>{var _stats$totalSpent;const{user}=useSelector(state=>state.auth);const[stats,setStats]=useState(null);const[recentTasks,setRecentTasks]=useState([]);const[pendingSubmissions,setPendingSubmissions]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{const fetchDashboardData=async()=>{try{const[statsRes,tasksRes]=await Promise.all([api.get('/users/dashboard/stats'),api.get('/tasks/my/tasks')]);setStats(statsRes.data.stats);setRecentTasks(tasksRes.data.tasks||[]);// Mock pending submissions for demo\nsetPendingSubmissions([{id:'1',taskTitle:'Website Review',workerName:'John Worker',submittedAt:new Date().toISOString(),amount:15.00}]);}catch(error){console.error('Failed to fetch dashboard data:',error);}finally{setLoading(false);}};fetchDashboardData();},[]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsx(LoadingSpinner,{size:\"lg\"})});}const statCards=[{title:'Active Tasks',value:(stats===null||stats===void 0?void 0:stats.activeTasks)||0,icon:ClipboardDocumentListIcon,color:'text-blue-600',bgColor:'bg-blue-100'},{title:'Total Spent',value:\"$\".concat((stats===null||stats===void 0?void 0:(_stats$totalSpent=stats.totalSpent)===null||_stats$totalSpent===void 0?void 0:_stats$totalSpent.toFixed(2))||'0.00'),icon:CurrencyDollarIcon,color:'text-green-600',bgColor:'bg-green-100'},{title:'Pending Reviews',value:(stats===null||stats===void 0?void 0:stats.pendingReviews)||0,icon:ClockIcon,color:'text-yellow-600',bgColor:'bg-yellow-100'},{title:'Completed Tasks',value:(stats===null||stats===void 0?void 0:stats.completedTasks)||0,icon:CheckCircleIcon,color:'text-primary-600',bgColor:'bg-primary-100'}];const getStatusBadge=status=>{const badges={draft:'badge-info',active:'badge-success',paused:'badge-warning',completed:'badge-success',cancelled:'badge-error'};return badges[status]||'badge-info';};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:[\"Welcome back, \",user===null||user===void 0?void 0:user.firstName,\"!\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-2\",children:\"Manage your tasks and review worker submissions.\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/create-task\",className:\"btn-primary flex items-center\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-5 w-5 mr-2\"}),\"Create New Task\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\",children:statCards.map((stat,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"card p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-lg \".concat(stat.bgColor),children:/*#__PURE__*/_jsx(stat.icon,{className:\"h-6 w-6 \".concat(stat.color)})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:stat.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:stat.value})]})]})},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:\"Recent Tasks\"}),/*#__PURE__*/_jsx(Link,{to:\"/my-tasks\",className:\"text-primary-600 hover:text-primary-700 text-sm font-medium\",children:\"View all\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:recentTasks.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(ClipboardDocumentListIcon,{className:\"h-12 w-12 text-gray-300 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No tasks created yet\"}),/*#__PURE__*/_jsxs(Link,{to:\"/create-task\",className:\"btn-primary mt-4 inline-flex items-center\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-4 w-4 mr-2\"}),\"Create Your First Task\"]})]}):recentTasks.slice(0,5).map(task=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900\",children:task.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"badge \".concat(getStatusBadge(task.status)),children:task.status}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[task.completedTasks,\"/\",task.totalTasksNeeded,\" completed\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-gray-900\",children:[\"$\",task.payoutPerTask]}),/*#__PURE__*/_jsx(Link,{to:\"/tasks/\".concat(task.id),className:\"p-1 text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(EyeIcon,{className:\"h-4 w-4\"})})]})]},task.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:\"Pending Reviews\"}),/*#__PURE__*/_jsx(Link,{to:\"/review-submissions\",className:\"text-primary-600 hover:text-primary-700 text-sm font-medium\",children:\"Review all\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:pendingSubmissions.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(UserGroupIcon,{className:\"h-12 w-12 text-gray-300 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No pending submissions\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400 mt-2\",children:\"Worker submissions will appear here for review\"})]}):pendingSubmissions.map(submission=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-yellow-50 rounded-lg border border-yellow-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900\",children:submission.taskTitle}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"by \",submission.workerName]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:new Date(submission.submittedAt).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-gray-900\",children:[\"$\",submission.amount]}),/*#__PURE__*/_jsx(Link,{to:\"/review-submissions\",className:\"btn-primary text-xs px-3 py-1\",children:\"Review\"})]})]},submission.id))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/create-task\",className:\"card p-6 hover:shadow-lg transition-shadow text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(PlusIcon,{className:\"h-6 w-6 text-primary-600\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900 mb-2\",children:\"Create Task\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm\",children:\"Post a new task and start getting work done\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/review-submissions\",className:\"card p-6 hover:shadow-lg transition-shadow text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(ClockIcon,{className:\"h-6 w-6 text-yellow-600\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900 mb-2\",children:\"Review Work\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm\",children:\"Review and approve worker submissions\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/wallet\",className:\"card p-6 hover:shadow-lg transition-shadow text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(CurrencyDollarIcon,{className:\"h-6 w-6 text-green-600\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900 mb-2\",children:\"Manage Funds\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm\",children:\"Add funds and manage your spending\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 card p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Task Performance\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-100 rounded-lg h-64 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400 mb-2\",children:\"\\uD83D\\uDCCA\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Performance charts coming soon\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400\",children:\"Track your task completion rates and worker performance\"})]})})]})]})});};export default EmployerDashboard;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}