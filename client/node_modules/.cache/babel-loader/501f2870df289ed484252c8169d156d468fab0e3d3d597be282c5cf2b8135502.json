{"ast":null,"code":"import _objectSpread from\"C:/Users/HP/Desktop/TPAY/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useSelector}from'react-redux';import{useForm}from'react-hook-form';import{UserCircleIcon,StarIcon}from'@heroicons/react/24/outline';import api from'../../services/api';import LoadingSpinner from'../../components/ui/LoadingSpinner';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Profile=()=>{const{user}=useSelector(state=>state.auth);const[loading,setLoading]=useState(false);const[activeTab,setActiveTab]=useState('profile');const{register,handleSubmit,formState:{errors}}=useForm({defaultValues:{firstName:(user===null||user===void 0?void 0:user.firstName)||'',lastName:(user===null||user===void 0?void 0:user.lastName)||'',bio:(user===null||user===void 0?void 0:user.bio)||'',location:(user===null||user===void 0?void 0:user.location)||''}});const onSubmit=async data=>{setLoading(true);try{await api.put('/users/profile',data);toast.success('Profile updated successfully!');}catch(error){toast.error('Failed to update profile');}finally{setLoading(false);}};const tabs=[{id:'profile',name:'Profile Information'},{id:'stats',name:'Statistics'}];return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"Profile\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-2\",children:\"Manage your account information and view your statistics.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card p-6 mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(UserCircleIcon,{className:\"h-12 w-12 text-primary-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:[user===null||user===void 0?void 0:user.firstName,\" \",user===null||user===void 0?void 0:user.lastName]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 capitalize\",children:user===null||user===void 0?void 0:user.role}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"Member since \",new Date(user===null||user===void 0?void 0:user.createdAt).toLocaleDateString()]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"flex space-x-8\",children:tabs.map(tab=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab(tab.id),className:\"py-2 px-1 border-b-2 font-medium text-sm \".concat(activeTab===tab.id?'border-primary-500 text-primary-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'),children:tab.name},tab.id))})}),activeTab==='profile'&&/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-6\",children:\"Profile Information\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('firstName',{required:'First name is required',minLength:{value:2,message:'Minimum 2 characters'}})),{},{className:\"input-field\"})),errors.firstName&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.firstName.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('lastName',{required:'Last name is required',minLength:{value:2,message:'Minimum 2 characters'}})),{},{className:\"input-field\"})),errors.lastName&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.lastName.message})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Bio\"}),/*#__PURE__*/_jsx(\"textarea\",_objectSpread(_objectSpread({},register('bio',{maxLength:{value:500,message:'Maximum 500 characters'}})),{},{rows:4,className:\"input-field\",placeholder:\"Tell others about yourself...\"})),errors.bio&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.bio.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Location\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('location',{maxLength:{value:100,message:'Maximum 100 characters'}})),{},{className:\"input-field\",placeholder:\"City, Country\"})),errors.location&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.location.message})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"btn-primary flex items-center\",children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(LoadingSpinner,{size:\"sm\",className:\"mr-2\"}),\"Updating...\"]}):'Update Profile'})})]})]}),activeTab==='stats'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[(user===null||user===void 0?void 0:user.role)==='worker'&&(user===null||user===void 0?void 0:user.workerStats)&&/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-6\",children:\"Worker Statistics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-primary-600\",children:user.workerStats.tasksCompleted}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Tasks Completed\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-3xl font-bold text-green-600\",children:[user.workerStats.approvalRate.toFixed(1),\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Approval Rate\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center mb-2\",children:[/*#__PURE__*/_jsx(StarIcon,{className:\"h-6 w-6 text-yellow-400 fill-current mr-1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-3xl font-bold text-blue-600\",children:user.workerStats.level})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Worker Level\"})]})]}),user.workerStats.badges&&user.workerStats.badges.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-900 mb-3\",children:\"Badges\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:user.workerStats.badges.map((badge,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-blue-100 text-blue-800 capitalize\",children:badge.replace('-',' ')},index))})]})]}),(user===null||user===void 0?void 0:user.role)==='employer'&&(user===null||user===void 0?void 0:user.employerStats)&&/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-6\",children:\"Employer Statistics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-primary-600\",children:user.employerStats.tasksPosted}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Tasks Posted\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-3xl font-bold text-green-600\",children:[\"$\",user.employerStats.totalSpent.toFixed(2)]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Total Spent\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-6\",children:\"Account Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Email\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:user===null||user===void 0?void 0:user.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Role\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium capitalize\",children:user===null||user===void 0?void 0:user.role})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Status\"}),/*#__PURE__*/_jsx(\"span\",{className:\"badge \".concat((user===null||user===void 0?void 0:user.status)==='active'?'badge-success':'badge-warning'),children:user===null||user===void 0?void 0:user.status})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Member Since\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:new Date(user===null||user===void 0?void 0:user.createdAt).toLocaleDateString()})]})]})]})]})]})});};export default Profile;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}