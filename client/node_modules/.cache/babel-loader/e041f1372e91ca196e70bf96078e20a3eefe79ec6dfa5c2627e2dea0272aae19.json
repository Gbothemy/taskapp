{"ast":null,"code":"import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{ClockIcon,CheckCircleIcon,XCircleIcon,EyeIcon}from'@heroicons/react/24/outline';import{fetchMySubmissions}from'../../store/slices/taskSlice';import LoadingSpinner from'../../components/ui/LoadingSpinner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MySubmissions=()=>{const dispatch=useDispatch();const{mySubmissions,loading}=useSelector(state=>state.tasks);useEffect(()=>{dispatch(fetchMySubmissions());},[dispatch]);const getStatusIcon=status=>{switch(status){case'pending':return/*#__PURE__*/_jsx(ClockIcon,{className:\"h-5 w-5 text-yellow-500\"});case'approved':return/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-5 w-5 text-green-500\"});case'rejected':return/*#__PURE__*/_jsx(XCircleIcon,{className:\"h-5 w-5 text-red-500\"});default:return/*#__PURE__*/_jsx(ClockIcon,{className:\"h-5 w-5 text-gray-500\"});}};const getStatusBadge=status=>{const badges={pending:'badge-warning',approved:'badge-success',rejected:'badge-error'};return badges[status]||'badge-info';};const getStatusColor=status=>{switch(status){case'approved':return'border-green-200 bg-green-50';case'rejected':return'border-red-200 bg-red-50';case'pending':return'border-yellow-200 bg-yellow-50';default:return'border-gray-200 bg-white';}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsx(LoadingSpinner,{size:\"lg\"})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"My Submissions\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-2\",children:\"Track the status of your submitted tasks and view feedback.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-lg bg-blue-100\",children:/*#__PURE__*/_jsx(EyeIcon,{className:\"h-6 w-6 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Total Submissions\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:mySubmissions.length})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-lg bg-yellow-100\",children:/*#__PURE__*/_jsx(ClockIcon,{className:\"h-6 w-6 text-yellow-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:mySubmissions.filter(s=>s.status==='pending').length})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-lg bg-green-100\",children:/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-6 w-6 text-green-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Approved\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:mySubmissions.filter(s=>s.status==='approved').length})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-lg bg-red-100\",children:/*#__PURE__*/_jsx(XCircleIcon,{className:\"h-6 w-6 text-red-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Rejected\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:mySubmissions.filter(s=>s.status==='rejected').length})]})]})})]}),mySubmissions.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"card p-12 text-center\",children:[/*#__PURE__*/_jsx(EyeIcon,{className:\"h-12 w-12 text-gray-300 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No submissions yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Start completing tasks to see your submissions here.\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/tasks\",className:\"btn-primary\",children:\"Browse Available Tasks\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:mySubmissions.map(submission=>{var _submission$task,_submission$task2,_submission$task2$cat,_submission$payoutDet,_submission$payoutDet2,_submission$proofData,_submission$proofData2,_submission$payoutDet3,_submission$payoutDet4;return/*#__PURE__*/_jsx(\"div\",{className:\"card border-l-4 \".concat(getStatusColor(submission.status)),children:/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-2\",children:[getStatusIcon(submission.status),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:((_submission$task=submission.task)===null||_submission$task===void 0?void 0:_submission$task.title)||'Task'}),/*#__PURE__*/_jsx(\"span\",{className:\"badge \".concat(getStatusBadge(submission.status)),children:submission.status})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Category\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium capitalize\",children:((_submission$task2=submission.task)===null||_submission$task2===void 0?void 0:(_submission$task2$cat=_submission$task2.category)===null||_submission$task2$cat===void 0?void 0:_submission$task2$cat.replace('-',' '))||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Submitted\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:new Date(submission.submittedAt).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Earnings\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium text-primary-600\",children:[\"$\",((_submission$payoutDet=submission.payoutDetails)===null||_submission$payoutDet===void 0?void 0:(_submission$payoutDet2=_submission$payoutDet.workerEarning)===null||_submission$payoutDet2===void 0?void 0:_submission$payoutDet2.toFixed(2))||'0.00']})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-2\",children:\"Your Submission:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-3\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Type:\"}),\" \",(_submission$proofData=submission.proofData)===null||_submission$proofData===void 0?void 0:_submission$proofData.type]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Content:\"}),\" \",(_submission$proofData2=submission.proofData)===null||_submission$proofData2===void 0?void 0:_submission$proofData2.content]})]})]}),submission.review&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-2\",children:\"Employer Feedback:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 rounded-lg p-3\",children:[submission.review.rating&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium mr-2\",children:\"Rating:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex\",children:[...Array(5)].map((_,i)=>/*#__PURE__*/_jsx(\"svg\",{className:\"h-4 w-4 \".concat(i<submission.review.rating?'text-yellow-400 fill-current':'text-gray-300'),viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\"})},i))})]}),submission.review.feedback&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:submission.review.feedback})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right ml-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold text-primary-600\",children:[\"$\",((_submission$payoutDet3=submission.payoutDetails)===null||_submission$payoutDet3===void 0?void 0:(_submission$payoutDet4=_submission$payoutDet3.amount)===null||_submission$payoutDet4===void 0?void 0:_submission$payoutDet4.toFixed(2))||'0.00']}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Total Payout\"}),submission.reviewedAt&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 mt-2\",children:[\"Reviewed: \",new Date(submission.reviewedAt).toLocaleDateString()]})]})]})})},submission.id);})})]})});};export default MySubmissions;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}