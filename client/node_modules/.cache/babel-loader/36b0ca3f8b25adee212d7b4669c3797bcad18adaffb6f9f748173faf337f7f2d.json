{"ast":null,"code":"import _objectSpread from\"C:/Users/HP/Desktop/TPAY/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{CheckIcon,XMarkIcon,StarIcon}from'@heroicons/react/24/outline';import api from'../../services/api';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ReviewSubmissions=()=>{const[submissions]=useState([{id:'1',taskTitle:'Website Review and Feedback',workerName:'John Worker',workerEmail:'worker@taskapp.com',submittedAt:new Date().toISOString(),proofData:{type:'text',content:'I thoroughly reviewed the website and found several usability issues. The navigation menu is confusing, the search function doesn\\'t work properly, and the checkout process has too many steps. I recommend simplifying the user flow and fixing the technical issues.'},payoutDetails:{amount:15.00,workerEarning:14.25},status:'pending'}]);const[reviewData,setReviewData]=useState({});const handleReview=async(submissionId,approved)=>{try{const review=reviewData[submissionId]||{};await api.post('/payments/process-task-payment',{submissionId,approved,review:approved?review:undefined});toast.success(\"Submission \".concat(approved?'approved':'rejected',\" successfully!\"));// In a real app, you would refresh the submissions list here\n}catch(error){toast.error('Failed to process review');}};const updateReviewData=(submissionId,field,value)=>{setReviewData(prev=>_objectSpread(_objectSpread({},prev),{},{[submissionId]:_objectSpread(_objectSpread({},prev[submissionId]),{},{[field]:value})}));};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"Review Submissions\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-2\",children:\"Review worker submissions and provide feedback.\"})]}),submissions.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"card p-12 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400 mb-4\",children:\"\\uD83D\\uDCDD\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No pending submissions\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Worker submissions will appear here for your review.\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:submissions.map(submission=>{var _reviewData$submissio2;return/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-2\",children:submission.taskTitle}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Submitted by: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:submission.workerName})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Email: \",submission.workerEmail]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Date: \",new Date(submission.submittedAt).toLocaleString()]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-xl font-bold text-primary-600\",children:[\"$\",submission.payoutDetails.amount]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Total payout\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-900 mb-2\",children:\"Worker Submission:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Type:\"}),\" \",submission.proofData.type]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Content:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-gray-700\",children:submission.proofData.content})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-900 mb-2\",children:\"Your Review:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Rating (1-5 stars)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-1\",children:[1,2,3,4,5].map(star=>{var _reviewData$submissio;return/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>updateReviewData(submission.id,'rating',star),className:\"p-1 \".concat((((_reviewData$submissio=reviewData[submission.id])===null||_reviewData$submissio===void 0?void 0:_reviewData$submissio.rating)||0)>=star?'text-yellow-400':'text-gray-300'),children:/*#__PURE__*/_jsx(StarIcon,{className:\"h-6 w-6 fill-current\"})},star);})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Feedback (optional)\"}),/*#__PURE__*/_jsx(\"textarea\",{rows:3,className:\"input-field\",placeholder:\"Provide feedback to help the worker improve...\",value:((_reviewData$submissio2=reviewData[submission.id])===null||_reviewData$submissio2===void 0?void 0:_reviewData$submissio2.feedback)||'',onChange:e=>updateReviewData(submission.id,'feedback',e.target.value)})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleReview(submission.id,true),className:\"btn-primary flex items-center flex-1 justify-center\",children:[/*#__PURE__*/_jsx(CheckIcon,{className:\"h-4 w-4 mr-2\"}),\"Approve & Pay $\",submission.payoutDetails.workerEarning]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleReview(submission.id,false),className:\"bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors flex items-center flex-1 justify-center\",children:[/*#__PURE__*/_jsx(XMarkIcon,{className:\"h-4 w-4 mr-2\"}),\"Reject Submission\"]})]})]},submission.id);})})]})});};export default ReviewSubmissions;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}