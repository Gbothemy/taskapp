{"ast":null,"code":"import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{Link}from'react-router-dom';import{PlusIcon,EyeIcon}from'@heroicons/react/24/outline';import{fetchMyTasks}from'../../store/slices/taskSlice';import LoadingSpinner from'../../components/ui/LoadingSpinner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MyTasks=()=>{const dispatch=useDispatch();const{myTasks,loading}=useSelector(state=>state.tasks);useEffect(()=>{dispatch(fetchMyTasks());},[dispatch]);const getStatusBadge=status=>{const badges={draft:'badge-info',active:'badge-success',paused:'badge-warning',completed:'badge-success',cancelled:'badge-error'};return badges[status]||'badge-info';};const getProgressPercentage=task=>{return task.totalTasksNeeded>0?task.completedTasks/task.totalTasksNeeded*100:0;};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsx(LoadingSpinner,{size:\"lg\"})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"My Tasks\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-2\",children:\"Manage your posted tasks and track their progress.\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/create-task\",className:\"btn-primary flex items-center\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-5 w-5 mr-2\"}),\"Create New Task\"]})]}),myTasks.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"card p-12 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400 mb-4\",children:\"\\uD83D\\uDCCB\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No tasks created yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Create your first task to start getting work done by skilled workers.\"}),/*#__PURE__*/_jsxs(Link,{to:\"/create-task\",className:\"btn-primary inline-flex items-center\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-4 w-4 mr-2\"}),\"Create Your First Task\"]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:myTasks.map(task=>{var _task$category;return/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-2\",children:task.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"badge \".concat(getStatusBadge(task.status)),children:task.status}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600 capitalize\",children:(_task$category=task.category)===null||_task$category===void 0?void 0:_task$category.replace('-',' ')})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-xl font-bold text-primary-600\",children:[\"$\",task.payoutPerTask]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"per task\"})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm mb-4 line-clamp-2\",children:task.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Progress\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[task.completedTasks,\" / \",task.totalTasksNeeded,\" completed\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-primary-500 h-2 rounded-full transition-all duration-300\",style:{width:\"\".concat(getProgressPercentage(task),\"%\")}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4 mb-4 text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-semibold text-green-600\",children:task.approvedTasks||0}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:\"Approved\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-semibold text-yellow-600\",children:(task.completedTasks||0)-(task.approvedTasks||0)-(task.rejectedTasks||0)}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:\"Pending\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-semibold text-red-600\",children:task.rejectedTasks||0}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:\"Rejected\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm text-gray-600 mb-4\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Deadline: \",new Date(task.deadline).toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Created: \",new Date(task.createdAt).toLocaleDateString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/tasks/\".concat(task.id),className:\"btn-outline flex-1 text-center flex items-center justify-center\",children:[/*#__PURE__*/_jsx(EyeIcon,{className:\"h-4 w-4 mr-1\"}),\"View Details\"]}),task.status==='active'&&/*#__PURE__*/_jsx(Link,{to:\"/review-submissions\",className:\"btn-primary flex-1 text-center\",children:\"Review Submissions\"})]})]},task.id);})})]})});};export default MyTasks;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}