{"ast":null,"code":"import _objectSpread from\"C:/Users/HP/Desktop/TPAY/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{useDispatch}from'react-redux';import{useForm}from'react-hook-form';import{createTask}from'../../store/slices/taskSlice';import LoadingSpinner from'../../components/ui/LoadingSpinner';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const CreateTask=()=>{const navigate=useNavigate();const dispatch=useDispatch();const[loading,setLoading]=useState(false);const{register,handleSubmit,formState:{errors}}=useForm();const onSubmit=async data=>{setLoading(true);try{await dispatch(createTask(data)).unwrap();toast.success('Task created successfully!');navigate('/my-tasks');}catch(error){toast.error(error||'Failed to create task');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"Create New Task\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-2\",children:\"Post a task and get quality work done by skilled workers.\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),className:\"card p-6 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Task Title *\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('title',{required:'Title is required',maxLength:{value:200,message:'Title must be less than 200 characters'}})),{},{className:\"input-field\",placeholder:\"Enter a clear, descriptive title\"})),errors.title&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.title.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Category *\"}),/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({},register('category',{required:'Category is required'})),{},{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a category\"}),/*#__PURE__*/_jsx(\"option\",{value:\"data-entry\",children:\"Data Entry\"}),/*#__PURE__*/_jsx(\"option\",{value:\"content\",children:\"Content Creation\"}),/*#__PURE__*/_jsx(\"option\",{value:\"review\",children:\"Review & Feedback\"}),/*#__PURE__*/_jsx(\"option\",{value:\"research\",children:\"Research\"}),/*#__PURE__*/_jsx(\"option\",{value:\"testing\",children:\"Testing\"}),/*#__PURE__*/_jsx(\"option\",{value:\"design\",children:\"Design\"}),/*#__PURE__*/_jsx(\"option\",{value:\"other\",children:\"Other\"})]})),errors.category&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.category.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Description *\"}),/*#__PURE__*/_jsx(\"textarea\",_objectSpread(_objectSpread({},register('description',{required:'Description is required',maxLength:{value:2000,message:'Description must be less than 2000 characters'}})),{},{rows:4,className:\"input-field\",placeholder:\"Provide a clear description of what needs to be done\"})),errors.description&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.description.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Detailed Instructions *\"}),/*#__PURE__*/_jsx(\"textarea\",_objectSpread(_objectSpread({},register('instructions',{required:'Instructions are required',maxLength:{value:5000,message:'Instructions must be less than 5000 characters'}})),{},{rows:6,className:\"input-field\",placeholder:\"Provide step-by-step instructions for completing this task\"})),errors.instructions&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.instructions.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Payout per Task ($) *\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('payoutPerTask',{required:'Payout is required',min:{value:0.01,message:'Minimum payout is $0.01'}})),{},{type:\"number\",step:\"0.01\",className:\"input-field\",placeholder:\"5.00\"})),errors.payoutPerTask&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.payoutPerTask.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Total Tasks Needed *\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('totalTasksNeeded',{required:'Number of tasks is required',min:{value:1,message:'Minimum 1 task required'}})),{},{type:\"number\",className:\"input-field\",placeholder:\"10\"})),errors.totalTasksNeeded&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.totalTasksNeeded.message})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Deadline *\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('deadline',{required:'Deadline is required'})),{},{type:\"date\",min:new Date().toISOString().split('T')[0],className:\"input-field\"})),errors.deadline&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.deadline.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Required Proof Type *\"}),/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({},register('requiredProofType',{required:'Proof type is required'})),{},{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select proof type\"}),/*#__PURE__*/_jsx(\"option\",{value:\"text\",children:\"Text Description\"}),/*#__PURE__*/_jsx(\"option\",{value:\"image\",children:\"Image/Screenshot\"}),/*#__PURE__*/_jsx(\"option\",{value:\"url\",children:\"URL/Link\"}),/*#__PURE__*/_jsx(\"option\",{value:\"file\",children:\"File Upload\"})]})),errors.requiredProofType&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.requiredProofType.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Quality Requirements\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Minimum Approval Rate (%)\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('qualityRequirements.minApprovalRate')),{},{type:\"number\",min:\"0\",max:\"100\",defaultValue:\"80\",className:\"input-field\"}))]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Minimum Worker Level\"}),/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({},register('qualityRequirements.workerLevel')),{},{className:\"input-field\",defaultValue:\"1\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"Level 1 (Beginner)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"Level 2 (Intermediate)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"Level 3 (Advanced)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"Level 4 (Expert)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"5\",children:\"Level 5 (Master)\"})]}))]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between pt-6 border-t\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>navigate('/dashboard'),className:\"btn-outline\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"btn-primary flex items-center\",children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(LoadingSpinner,{size:\"sm\",className:\"mr-2\"}),\"Creating Task...\"]}):'Create Task'})]})]})]})});};export default CreateTask;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}