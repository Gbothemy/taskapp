{"ast":null,"code":"import _objectSpread from\"C:/Users/HP/Desktop/TPAY/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import{ClipboardDocumentListIcon,MagnifyingGlassIcon,EyeIcon}from'@heroicons/react/24/outline';import api from'../../services/api';import LoadingSpinner from'../../components/ui/LoadingSpinner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TaskManagement=()=>{const[tasks,setTasks]=useState([]);const[loading,setLoading]=useState(true);const[filters,setFilters]=useState({status:'',category:'',page:1,limit:20});useEffect(()=>{fetchTasks();},[filters]);const fetchTasks=async()=>{try{setLoading(true);const response=await api.get('/admin/tasks',{params:filters});setTasks(response.data.tasks||[]);}catch(error){console.error('Failed to fetch tasks:',error);}finally{setLoading(false);}};const getStatusBadge=status=>{const badges={draft:'badge-info',active:'badge-success',paused:'badge-warning',completed:'badge-success',cancelled:'badge-error'};return badges[status]||'badge-info';};const getCategoryColor=category=>{const colors={'data-entry':'bg-blue-100 text-blue-800','content':'bg-purple-100 text-purple-800','review':'bg-green-100 text-green-800','research':'bg-yellow-100 text-yellow-800','testing':'bg-red-100 text-red-800','design':'bg-pink-100 text-pink-800','other':'bg-gray-100 text-gray-800'};return colors[category]||'bg-gray-100 text-gray-800';};const getProgressPercentage=task=>{return task.totalTasksNeeded>0?task.completedTasks/task.totalTasksNeeded*100:0;};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"Task Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-2\",children:\"Monitor and manage all tasks on the platform.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card p-6 mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"select\",{value:filters.status,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{status:e.target.value})),className:\"input-field\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"draft\",children:\"Draft\"}),/*#__PURE__*/_jsx(\"option\",{value:\"active\",children:\"Active\"}),/*#__PURE__*/_jsx(\"option\",{value:\"paused\",children:\"Paused\"}),/*#__PURE__*/_jsx(\"option\",{value:\"completed\",children:\"Completed\"}),/*#__PURE__*/_jsx(\"option\",{value:\"cancelled\",children:\"Cancelled\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:filters.category,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{category:e.target.value})),className:\"input-field\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Categories\"}),/*#__PURE__*/_jsx(\"option\",{value:\"data-entry\",children:\"Data Entry\"}),/*#__PURE__*/_jsx(\"option\",{value:\"content\",children:\"Content Creation\"}),/*#__PURE__*/_jsx(\"option\",{value:\"review\",children:\"Review & Feedback\"}),/*#__PURE__*/_jsx(\"option\",{value:\"research\",children:\"Research\"}),/*#__PURE__*/_jsx(\"option\",{value:\"testing\",children:\"Testing\"}),/*#__PURE__*/_jsx(\"option\",{value:\"design\",children:\"Design\"}),/*#__PURE__*/_jsx(\"option\",{value:\"other\",children:\"Other\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilters({status:'',category:'',page:1,limit:20}),className:\"btn-outline\",children:\"Clear Filters\"})]})}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center py-12\",children:/*#__PURE__*/_jsx(LoadingSpinner,{size:\"lg\"})}):tasks.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"card p-12 text-center\",children:[/*#__PURE__*/_jsx(ClipboardDocumentListIcon,{className:\"h-12 w-12 text-gray-300 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No tasks found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Try adjusting your search criteria.\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6\",children:tasks.map(task=>{var _task$category;return/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"badge \".concat(getCategoryColor(task.category)),children:(_task$category=task.category)===null||_task$category===void 0?void 0:_task$category.replace('-',' ')}),/*#__PURE__*/_jsx(\"span\",{className:\"badge \".concat(getStatusBadge(task.status)),children:task.status})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-2\",children:task.title})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-xl font-bold text-primary-600\",children:[\"$\",task.payoutPerTask]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"per task\"})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm mb-4 line-clamp-2\",children:task.description}),task.employer&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Employer:\"}),\" \",task.employer.firstName,\" \",task.employer.lastName]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:task.employer.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Progress\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[task.completedTasks,\" / \",task.totalTasksNeeded]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-primary-500 h-2 rounded-full transition-all duration-300\",style:{width:\"\".concat(getProgressPercentage(task),\"%\")}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4 mb-4 text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-semibold text-green-600\",children:task.approvedTasks||0}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:\"Approved\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-semibold text-yellow-600\",children:(task.completedTasks||0)-(task.approvedTasks||0)-(task.rejectedTasks||0)}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:\"Pending\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-semibold text-red-600\",children:task.rejectedTasks||0}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:\"Rejected\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600 space-y-1 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Deadline:\"}),\" \",new Date(task.deadline).toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Proof Type:\"}),\" \",task.requiredProofType]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Created:\"}),\" \",new Date(task.createdAt).toLocaleDateString()]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-2\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn-outline flex-1 text-center flex items-center justify-center\",children:[/*#__PURE__*/_jsx(EyeIcon,{className:\"h-4 w-4 mr-1\"}),\"View Details\"]})})]},task.id);})})]})});};export default TaskManagement;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}