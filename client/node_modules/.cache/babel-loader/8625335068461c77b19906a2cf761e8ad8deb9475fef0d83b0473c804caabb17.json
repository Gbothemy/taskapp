{"ast":null,"code":"import _objectSpread from\"C:/Users/HP/Desktop/TPAY/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"C:/Users/HP/Desktop/TPAY/client/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";const _excluded=[\"confirmPassword\"];import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{useForm}from'react-hook-form';import{EyeIcon,EyeSlashIcon}from'@heroicons/react/24/outline';import{register as registerUser,clearError}from'../../store/slices/authSlice';import LoadingSpinner from'../../components/ui/LoadingSpinner';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Register=()=>{const[showPassword,setShowPassword]=useState(false);const[showConfirmPassword,setShowConfirmPassword]=useState(false);const{loading,error}=useSelector(state=>state.auth);const dispatch=useDispatch();const navigate=useNavigate();const{register,handleSubmit,watch,formState:{errors}}=useForm();const watchPassword=watch('password');useEffect(()=>{dispatch(clearError());},[dispatch]);useEffect(()=>{if(error){toast.error(error);}},[error]);const onSubmit=async data=>{try{const{confirmPassword}=data,userData=_objectWithoutProperties(data,_excluded);await dispatch(registerUser(userData)).unwrap();toast.success('Registration successful! Welcome to TaskApp!');navigate('/dashboard');}catch(error){// Error is handled by the error state and toast above\n}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-primary-500 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-white font-bold\",children:\"\\u2713\\u2713\\u2713\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl font-bold text-gray-900\",children:\"TaskApp\"})]})}),/*#__PURE__*/_jsx(\"h2\",{className:\"mt-6 text-center text-3xl font-extrabold text-gray-900\",children:\"Create your account\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-2 text-center text-sm text-gray-600\",children:[\"Or\",' ',/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"font-medium text-primary-600 hover:text-primary-500\",children:\"sign in to your existing account\"})]})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"mt-8 space-y-6\",onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",className:\"block text-sm font-medium text-gray-700\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('firstName',{required:'First name is required',minLength:{value:2,message:'First name must be at least 2 characters'}})),{},{type:\"text\",className:\"input-field mt-1\",placeholder:\"John\"})),errors.firstName&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.firstName.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastName\",className:\"block text-sm font-medium text-gray-700\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('lastName',{required:'Last name is required',minLength:{value:2,message:'Last name must be at least 2 characters'}})),{},{type:\"text\",className:\"input-field mt-1\",placeholder:\"Doe\"})),errors.lastName&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.lastName.message})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-sm font-medium text-gray-700\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('email',{required:'Email is required',pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,message:'Invalid email address'}})),{},{type:\"email\",className:\"input-field mt-1\",placeholder:\"john@example.com\"})),errors.email&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.email.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"role\",className:\"block text-sm font-medium text-gray-700\",children:\"I want to\"}),/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({},register('role',{required:'Please select your role'})),{},{className:\"input-field mt-1\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select your role\"}),/*#__PURE__*/_jsx(\"option\",{value:\"worker\",children:\"Complete tasks and earn money\"}),/*#__PURE__*/_jsx(\"option\",{value:\"employer\",children:\"Post tasks and hire workers\"})]})),errors.role&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.role.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-sm font-medium text-gray-700\",children:\"Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 relative\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('password',{required:'Password is required',minLength:{value:6,message:'Password must be at least 6 characters'}})),{},{type:showPassword?'text':'password',className:\"input-field pr-10\",placeholder:\"Create a strong password\"})),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"absolute inset-y-0 right-0 pr-3 flex items-center\",onClick:()=>setShowPassword(!showPassword),children:showPassword?/*#__PURE__*/_jsx(EyeSlashIcon,{className:\"h-5 w-5 text-gray-400\"}):/*#__PURE__*/_jsx(EyeIcon,{className:\"h-5 w-5 text-gray-400\"})})]}),errors.password&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.password.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmPassword\",className:\"block text-sm font-medium text-gray-700\",children:\"Confirm Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 relative\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('confirmPassword',{required:'Please confirm your password',validate:value=>value===watchPassword||'Passwords do not match'})),{},{type:showConfirmPassword?'text':'password',className:\"input-field pr-10\",placeholder:\"Confirm your password\"})),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"absolute inset-y-0 right-0 pr-3 flex items-center\",onClick:()=>setShowConfirmPassword(!showConfirmPassword),children:showConfirmPassword?/*#__PURE__*/_jsx(EyeSlashIcon,{className:\"h-5 w-5 text-gray-400\"}):/*#__PURE__*/_jsx(EyeIcon,{className:\"h-5 w-5 text-gray-400\"})})]}),errors.confirmPassword&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.confirmPassword.message})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('terms',{required:'You must accept the terms and conditions'})),{},{id:\"terms\",type:\"checkbox\",className:\"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded\"})),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"terms\",className:\"ml-2 block text-sm text-gray-900\",children:[\"I agree to the\",' ',/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"text-primary-600 hover:text-primary-500\",children:\"Terms and Conditions\"}),' ',\"and\",' ',/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"text-primary-600 hover:text-primary-500\",children:\"Privacy Policy\"})]})]}),errors.terms&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.terms.message}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"w-full btn-primary flex justify-center items-center\",children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(LoadingSpinner,{size:\"sm\",className:\"mr-2\"}),\"Creating account...\"]}):'Create account'})})]})]})});};export default Register;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}